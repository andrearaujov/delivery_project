{% extends 'core/base.html' %}

{% block content %}
    <!-- Header Section -->
    <div class="mb-8">
        <a href="{% url 'core:lista_restaurantes' %}" class="inline-flex items-center gap-2 text-red-600 hover:text-red-700 font-medium transition-colors mb-6">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
            Voltar para Restaurantes
        </a>
    </div>

    <!-- Restaurant Info Card -->
    <div class="bg-gradient-to-r from-red-600 to-red-500 rounded-2xl p-8 md:p-12 text-white mb-12 shadow-lg">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">{{ restaurante.nome }}</h1>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
            <div class="flex items-start gap-3">
                <svg class="w-6 h-6 flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                </svg>
                <div>
                    <p class="text-sm opacity-90">Localização</p>
                    <p class="font-semibold">{{ restaurante.endereco }}</p>
                </div>
            </div>
            
            <div class="flex items-start gap-3">
                <svg class="w-6 h-6 flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h2A2.75 2.75 0 0119 6.75v8.5A2.75 2.75 0 0116.25 18H3.75A2.75 2.75 0 011 15.25v-8.5A2.75 2.75 0 013.75 4h2V2.75A.75.75 0 015.75 2zm-2 5.5a.75.75 0 00-.75.75v6.5c0 .414.336.75.75.75h12.5a.75.75 0 00.75-.75v-6.5a.75.75 0 00-.75-.75H3.75z" clip-rule="evenodd"></path>
                </svg>
                <div>
                    <p class="text-sm opacity-90">Horário</p>
                    <p class="font-semibold">{{ restaurante.horario_funcionamento }}</p>
                </div>
            </div>
            
            <div class="flex items-start gap-3">
                <svg class="w-6 h-6 flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                </svg>
                <div>
                    <p class="text-sm opacity-90">Tipo de Cozinha</p>
                    <p class="font-semibold">{{ restaurante.tipo_cozinha }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Menu Section -->
    <div class="mb-12">
        <h2 class="text-3xl font-bold text-gray-800 mb-8">Cardápio</h2>

        {% if produtos %}
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {% for produto in produtos %}
                    <div class="bg-white rounded-xl border border-gray-200 shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden group flex flex-col h-full">
                        <!-- Product Header -->
                        <div class="bg-gradient-to-br from-gray-100 to-gray-200 p-6 flex-shrink-0">
                            <h3 class="text-xl font-bold text-gray-800 group-hover:text-red-600 transition-colors mb-2">{{ produto.nome }}</h3>
                            <p class="text-gray-600 text-sm line-clamp-2">{{ produto.descricao }}</p>
                        </div>

                        <!-- Product Info -->
                        <div class="p-6 flex-1 flex flex-col">
                            <p class="text-gray-600 text-sm mb-4 flex-1">{{ produto.descricao }}</p>
                            
                            <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                                <p class="text-2xl font-bold text-red-600">R$ {{ produto.preco }}</p>
                                
                                {% if user.is_authenticated and user.cliente.tipo_usuario == 'CLIENTE' %}
                                    <a href="{% url 'core:adicionar_ao_carrinho' produto.id %}" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center gap-2">
                                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 6H6.28l-.31-1.243A1 1 0 005 4H3z"></path>
                                        </svg>
                                        Adicionar
                                    </a>
                                {% else %}
                                    <a href="{% url 'core:login' %}" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200">
                                        Fazer Login
                                    </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-8 text-center">
                <p class="text-blue-800 text-lg font-medium">Nenhum produto cadastrado para este restaurante.</p>
            </div>
        {% endif %}
    </div>

    <!-- Action Buttons -->
    <div class="flex gap-4 justify-center mb-8">
        <a href="{% url 'core:ver_carrinho' %}" class="inline-flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 6H6.28l-.31-1.243A1 1 0 005 4H3z"></path>
            </svg>
            Ver Meu Carrinho
        </a>
    </div>
{% endblock %}
